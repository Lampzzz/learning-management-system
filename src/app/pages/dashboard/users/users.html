<app-dashboard-header
  title="User Management"
  description="Manage all users and their roles"
  buttonLabel="Add User"
  targetModal="user"
></app-dashboard-header>

<app-user-editor #user_editor />

<table class="table">
  <thead>
    <tr>
      <th>Username</th>
      <th>Email</th>
      <th>Role</th>
      <th>Created</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    @for ( user of data(); track user.id) {
    <tr>
      <td>{{ user.username }}</td>
      <td>{{ user.email }}</td>
      <td>{{ user.role }}</td>
      <td>{{ user.created_at }}</td>
      <td>
        <div class="d-flex gap-3">
          <button data-bs-toggle="modal" data-bs-target="#user" (click)="setUserData(user)">
            <i class="bi bi-pencil text-primary" style="cursor: pointer"></i>
          </button>
          <i
            class="bi bi-trash text-danger"
            style="cursor: pointer"
            (click)="deleteUser(user.id)"
          ></i>
        </div>
      </td>
    </tr>
    }
  </tbody>
</table>
